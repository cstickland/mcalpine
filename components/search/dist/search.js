!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Search=e()}(this,(function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,c;function u(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function g(){return p("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e){t.value=null==e?"":e}function b(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function k(t){c=t}const y=[],w=[];let T=[];const S=[],j=Promise.resolve();let C=!1;function E(t){T.push(t)}const L=new Set;let M=0;function N(){if(0!==M)return;const t=c;do{try{for(;M<y.length;){const t=y[M];M++,k(t),U(t.$$)}}catch(t){throw y.length=0,M=0,t}for(k(null),y.length=0,M=0;w.length;)w.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];L.has(e)||(L.add(e),e())}T.length=0}while(y.length);for(;S.length;)S.pop()();C=!1,L.clear(),k(t)}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const R=new Set;let H;function z(){H={r:0,c:[],p:H}}function A(){H.r||r(H.c),H=H.p}function O(t,e){t&&t.i&&(R.delete(t),t.i(e))}function P(t,e,n,r){if(t&&t.o){if(R.has(t))return;R.add(t),H.c.push((()=>{R.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function I(t){t&&t.c()}function q(t,n,l,s){const{fragment:c,after_update:u}=t.$$;c&&c.m(n,l),s||E((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(E)}function B(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];T.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),T=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(y.push(t),C||(C=!0,j.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(e,o,l,s,u,i,a,f=[-1]){const h=c;k(e);const p=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};a&&a(p.root);let m=!1;if(p.ctx=l?l(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&u(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),m&&F(e,t)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();o.intro&&O(e.$$.fragment),q(e,o.target,o.anchor,o.customElement),N()}k(h)}class K{$destroy(){B(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(e){let n,r,o,l,s,c,u;return{c(){n=h("button"),r=h("div"),o=p("Showing 9 of "),l=p(e[0]),s=p(" results"),c=m(),u=h("div"),u.innerHTML='<div>View All Results</div> \n        <div class="view-all-chevron svelte-1lzdnjr"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-1lzdnjr"><g data-name="Layer 2"><g data-name="chevron-right"><rect width="24" height="24" transform="rotate(-90 12 12)" opacity="0"></rect><path d="M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z"></path></g></g></svg></div>',$(r,"class","result-count svelte-1lzdnjr"),$(u,"class","view-all svelte-1lzdnjr"),$(n,"type","submit"),$(n,"id","search-submit"),$(n,"class","search-submit submit-btn svelte-1lzdnjr"),n.value="view all results"},m(t,e){a(t,n,e),i(n,r),i(r,o),i(r,l),i(r,s),i(n,c),i(n,u)},p(t,[e]){1&e&&_(l,t[0])},i:t,o:t,d(t){t&&d(n)}}}function G(t,e,n){let{totalResults:r=0}=e;return t.$$set=t=>{"totalResults"in t&&n(0,r=t.totalResults)},[r]}class J extends K{constructor(t){super(),D(this,t,G,V,l,{totalResults:0})}}function Q(t,e){let n=t,r=e;n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");let o=new RegExp(`${n}`,"ig");return r=r.replace(o,(t=>`<b>${t}</b>`)),r}function W(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function X(t,e,n){const r=t.slice();return r[6]=e[n],r[5]=n,r}function Y(t){let e,n,r,o,l,s,c,u,f,p,g,v,_,x,b;function k(t,e){return t[0]?.products.length>0?tt:Z}let y=k(t),w=y(t);function T(t,e){return t[0]?.other.length>0?lt:ot}let S=T(t),j=S(t);return x=new J({props:{totalResults:t[2]}}),{c(){e=h("div"),n=h("div"),n.innerHTML='<div class="result-title svelte-k0u6b5">Suggestions</div>',r=m(),o=h("div"),l=h("div"),l.textContent="Products",s=m(),w.c(),c=m(),u=h("div"),f=h("div"),f.textContent="Other",p=m(),j.c(),g=m(),v=h("div"),_=m(),I(x.$$.fragment),$(n,"class","search-results__section-title svelte-k0u6b5"),$(l,"class","result-title svelte-k0u6b5"),$(o,"class","search-results__section-title svelte-k0u6b5"),$(f,"class","result-title svelte-k0u6b5"),$(u,"class","search-results__section-title svelte-k0u6b5"),$(v,"id","search-results__other"),$(e,"class","results-container show svelte-k0u6b5"),$(e,"id","results-container")},m(t,d){a(t,e,d),i(e,n),i(e,r),i(e,o),i(o,l),i(o,s),w.m(o,null),i(e,c),i(e,u),i(u,f),i(u,p),j.m(u,null),i(e,g),i(e,v),i(e,_),q(x,e,null),b=!0},p(t,e){y===(y=k(t))&&w?w.p(t,e):(w.d(1),w=y(t),w&&(w.c(),w.m(o,null))),S===(S=T(t))&&j?j.p(t,e):(j.d(1),j=S(t),j&&(j.c(),j.m(u,null)));const n={};4&e&&(n.totalResults=t[2]),x.$set(n)},i(t){b||(O(x.$$.fragment,t),b=!0)},o(t){P(x.$$.fragment,t),b=!1},d(t){t&&d(e),w.d(),j.d(),B(x)}}}function Z(e){let n;return{c(){n=h("div"),n.textContent="No Products Found"},m(t,e){a(t,n,e)},p:t,d(t){t&&d(n)}}}function tt(t){let e,n=t[0]?.products,r=[];for(let e=0;e<n.length;e+=1)r[e]=rt(X(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);a(t,e,n)},p(t,o){if(3&o){let l;for(n=t[0]?.products,l=0;l<n.length;l+=1){const s=X(t,n,l);r[l]?r[l].p(s,o):(r[l]=rt(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){f(r,t),t&&d(e)}}}function et(t){let e;return{c(){e=p("Sku")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}function nt(t){let e;return{c(){e=p("Skus")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}function rt(t){let e,n=t[5]<3&&function(t){let e,n,r,o,l,s,c,f,g,v,x,b=t[6]?.sku_count+"",k=Q(t[1],t[6]?.name)+"";function y(t,e){return t[6]?.sku_count>1?nt:et}let w=y(t),T=w(t);return{c(){e=h("a"),n=h("img"),o=m(),l=h("div"),s=p(b),c=m(),T.c(),f=m(),g=h("div"),v=m(),$(n,"height","58px"),$(n,"width","58px"),u(n.src,r=t[6]?.skus[0]?.product_images[0]?.product_image)||$(n,"src",r),$(n,"alt",""),$(n,"class","result-image svelte-k0u6b5"),$(l,"class","c-red search-product-sku-count svelte-k0u6b5"),$(e,"href",x=t[6]?.permalink),$(e,"class","search-product-result svelte-k0u6b5")},m(t,r){a(t,e,r),i(e,n),i(e,o),i(e,l),i(l,s),i(l,c),T.m(l,null),i(e,f),i(e,g),g.innerHTML=k,i(e,v)},p(t,o){1&o&&!u(n.src,r=t[6]?.skus[0]?.product_images[0]?.product_image)&&$(n,"src",r),1&o&&b!==(b=t[6]?.sku_count+"")&&_(s,b),w!==(w=y(t))&&(T.d(1),T=w(t),T&&(T.c(),T.m(l,null))),3&o&&k!==(k=Q(t[1],t[6]?.name)+"")&&(g.innerHTML=k),1&o&&x!==(x=t[6]?.permalink)&&$(e,"href",x)},d(t){t&&d(e),T.d()}}}(t);return{c(){n&&n.c(),e=g()},m(t,r){n&&n.m(t,r),a(t,e,r)},p(t,e){t[5]<3&&n.p(t,e)},d(t){n&&n.d(t),t&&d(e)}}}function ot(e){let n;return{c(){n=h("div"),n.textContent="No other pages found"},m(t,e){a(t,n,e)},p:t,d(t){t&&d(n)}}}function lt(t){let e,n=t[0]?.other,r=[];for(let e=0;e<n.length;e+=1)r[e]=ut(W(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);a(t,e,n)},p(t,o){if(3&o){let l;for(n=t[0]?.other,l=0;l<n.length;l+=1){const s=W(t,n,l);r[l]?r[l].p(s,o):(r[l]=ut(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(t){f(r,t),t&&d(e)}}}function st(t){let e;return{c(){e=p("Page")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}function ct(t){let e;return{c(){e=p("Article")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}function ut(t){let e,n=t[5]<3&&function(t){let e,n,r,o,l,s,c=Q(t[1],t[3]?.name)+"";function u(t,e){return"post"==t[3]?.post_type?ct:"page"==t[3]?.post_type?st:void 0}let f=u(t),p=f&&f(t);return{c(){e=h("a"),n=h("div"),r=m(),o=h("div"),p&&p.c(),l=m(),$(o,"class","other-post-type svelte-k0u6b5"),$(e,"href",s=t[3]?.permalink),$(e,"class","search-product-result other svelte-k0u6b5")},m(t,s){a(t,e,s),i(e,n),n.innerHTML=c,i(e,r),i(e,o),p&&p.m(o,null),i(e,l)},p(t,r){3&r&&c!==(c=Q(t[1],t[3]?.name)+"")&&(n.innerHTML=c),f!==(f=u(t))&&(p&&p.d(1),p=f&&f(t),p&&(p.c(),p.m(o,null))),1&r&&s!==(s=t[3]?.permalink)&&$(e,"href",s)},d(t){t&&d(e),p&&p.d()}}}(t);return{c(){n&&n.c(),e=g()},m(t,r){n&&n.m(t,r),a(t,e,r)},p(t,e){t[5]<3&&n.p(t,e)},d(t){n&&n.d(t),t&&d(e)}}}function it(t){let e,n,r=t[1].length>0&&Y(t);return{c(){r&&r.c(),e=g()},m(t,o){r&&r.m(t,o),a(t,e,o),n=!0},p(t,[n]){t[1].length>0?r?(r.p(t,n),2&n&&O(r,1)):(r=Y(t),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(z(),P(r,1,1,(()=>{r=null})),A())},i(t){n||(O(r),n=!0)},o(t){P(r),n=!1},d(t){r&&r.d(t),t&&d(e)}}}function at(t,e,n){let r,{results:o={}}=e,{searchTerm:l=""}=e;return t.$$set=t=>{"results"in t&&n(0,o=t.results),"searchTerm"in t&&n(1,l=t.searchTerm)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=o?.products?.length+o?.other?.length)},[o,l,r]}class dt extends K{constructor(t){super(),D(this,t,at,it,l,{results:0,searchTerm:1})}}function ft(t){let e,n;return e=new dt({props:{results:t[3],searchTerm:t[1]}}),{c(){I(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.results=t[3]),2&n&&(r.searchTerm=t[1]),e.$set(r)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function ht(t){let e,n,o,l,s,c,u,f,p,g,_,k,y,w,T,S,j,C=(t[3]?.products?.length>0||t[3]?.other?.length>0)&&ft(t);return{c(){e=h("form"),n=h("select"),o=h("option"),o.textContent="Select Interest",l=h("option"),l.textContent="Specifier",s=h("option"),s.textContent="Installer",c=h("option"),c.textContent="Merchant",u=h("option"),u.textContent="Homeowner",f=h("option"),f.textContent="International",p=m(),g=h("div"),_=h("span"),_.textContent="Search for:",k=m(),y=h("input"),w=m(),C&&C.c(),o.__value="",o.value=o.__value,o.disabled=!0,o.selected=!0,o.hidden=!0,l.__value="specifier",l.value=l.__value,s.__value="installer",s.value=s.__value,c.__value="merchant",c.value=c.__value,u.__value="homeowner",u.value=u.__value,f.__value="international",f.value=f.__value,$(n,"name","interest"),$(n,"class","select-interest svelte-9x0ahk"),void 0===t[2]&&E((()=>t[6].call(n))),$(_,"class","screen-reader-text"),$(y,"type","search"),$(y,"placeholder","Search a product name, SKU or term…"),$(y,"autocomplete","off"),$(y,"id","search-field"),$(y,"class","search-field svelte-9x0ahk"),$(y,"name","s"),$(g,"class","search-form__input svelte-9x0ahk"),$(e,"class","search-form svelte-9x0ahk"),$(e,"id","search-form"),$(e,"role","search"),$(e,"method","get"),$(e,"action",t[0])},m(r,d){a(r,e,d),i(e,n),i(n,o),i(n,l),i(n,s),i(n,c),i(n,u),i(n,f),b(n,t[2],!0),i(e,p),i(e,g),i(g,_),i(g,k),i(g,y),x(y,t[1]),i(g,w),C&&C.m(g,null),T=!0,S||(j=[v(n,"change",t[6]),v(y,"input",t[7]),v(y,"input",t[4])],S=!0)},p(t,[r]){4&r&&b(n,t[2]),2&r&&y.value!==t[1]&&x(y,t[1]),t[3]?.products?.length>0||t[3]?.other?.length>0?C?(C.p(t,r),8&r&&O(C,1)):(C=ft(t),C.c(),O(C,1),C.m(g,null)):C&&(z(),P(C,1,1,(()=>{C=null})),A()),(!T||1&r)&&$(e,"action",t[0])},i(t){T||(O(C),T=!0)},o(t){P(C),T=!1},d(t){t&&d(e),C&&C.d(),S=!1,r(j)}}}function pt(t,e,n){let r="",{siteUrl:o=""}=e,{ajaxUrl:l=""}=e,s="",c={};return t.$$set=t=>{"siteUrl"in t&&n(0,o=t.siteUrl),"ajaxUrl"in t&&n(5,l=t.ajaxUrl)},[o,r,s,c,async function(){if(""==r)return void n(3,c={});let t=new FormData;t.append("s",r),t.append("action","advancedSearch");const e=await fetch(l,{method:"POST",body:t}),o=await e.json();n(3,c=o),console.log(c)},l,function(){s=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(2,s)},function(){r=this.value,n(1,r)}]}return class extends K{constructor(t){super(),D(this,t,pt,ht,l,{siteUrl:0,ajaxUrl:5})}}}));
//# sourceMappingURL=search.js.map
