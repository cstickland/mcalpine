!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).CategoryArchive=n()}(this,(function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function c(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let l;function s(t,n){return l||(l=document.createElement("a")),l.href=n,t===l.href}function u(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}const a="undefined"!=typeof window;let f=a?()=>window.performance.now():()=>Date.now(),d=a?t=>requestAnimationFrame(t):t;const p=new Set;function m(t){p.forEach((n=>{n.c(t)||(p.delete(n),n.f())})),0!==p.size&&d(m)}function g(t,n){t.appendChild(n)}function h(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function w(){return y("")}function x(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function T(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function _(t,n){n=""+n,t.data!==n&&(t.data=n)}let k;function E(t){k=t}function P(t){(function(){if(!k)throw new Error("Function called outside component initialization");return k})().$$.on_mount.push(t)}const L=[],A=[];let S=[];const U=[],O=Promise.resolve();let C=!1;function I(t){S.push(t)}const N=new Set;let M=0;function j(){if(0!==M)return;const t=k;do{try{for(;M<L.length;){const t=L[M];M++,E(t),z(t.$$)}}catch(t){throw L.length=0,M=0,t}for(E(null),L.length=0,M=0;A.length;)A.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];N.has(n)||(N.add(n),n())}S.length=0}while(L.length);for(;U.length;)U.pop()();C=!1,N.clear(),E(t)}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(I)}}const q=new Set;let D;function F(){D={r:0,c:[],p:D}}function B(){D.r||r(D.c),D=D.p}function X(t,n){t&&t.i&&(q.delete(t),t.i(n))}function Y(t,n,e,o){if(t&&t.o){if(q.has(t))return;q.add(t),D.c.push((()=>{q.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}else o&&o()}function H(t){t&&t.c()}function R(t,n,o,i){const{fragment:l,after_update:s}=t.$$;l&&l.m(n,o),i||I((()=>{const n=t.$$.on_mount.map(e).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),s.forEach(I)}function V(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];S.forEach((o=>-1===t.indexOf(o)?n.push(o):e.push(o))),e.forEach((t=>t())),S=n}(e.after_update),r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function J(t,n){-1===t.$$.dirty[0]&&(L.push(t),C||(C=!0,O.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Z(n,e,c,i,l,s,u,a=[-1]){const f=k;E(n);const d=n.$$={fragment:null,ctx:[],props:s,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};u&&u(d.root);let p=!1;if(d.ctx=c?c(n,e.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&J(n,t)),e})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!i&&i(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach($)}else d.fragment&&d.fragment.c();e.intro&&X(n.$$.fragment),R(n,e.target,e.anchor,e.customElement),j()}E(f)}class G{$destroy(){V(this,1),this.$destroy=t}$on(n,e){if(!c(e))return t;const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(n){let e;return{c(){e=b("div")},m(t,n){h(t,e,n)},p:t,d(t){t&&$(e)}}}function Q(t){let n,e;return{c(){n=b("img"),T(n,"class","category-card-image"),s(n.src,e=t[1])||T(n,"src",e),T(n,"alt",t[2])},m(t,e){h(t,n,e)},p(t,o){2&o&&!s(n.src,e=t[1])&&T(n,"src",e),4&o&&T(n,"alt",t[2])},d(t){t&&$(n)}}}function W(n){let e,o,r,c,i,l,s,u,a,f,d,p;function m(t,n){return t[1]&&t[1].length>0?Q:K}let w=m(n),x=w(n);return{c(){e=b("li"),o=b("a"),r=b("div"),x.c(),c=v(),i=b("div"),l=b("h5"),s=y(n[3]),u=v(),a=b("div"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="13.922" height="16.245" viewBox="0 0 13.922 16.245"><path d="M0,16.245V11.68L6.667,7.869,0,4.06V0L13.922,8.122,0,16.244Z" fill="#fff"></path></svg>',f=v(),d=b("a"),p=y(n[3]),T(a,"class","product-category-link"),T(i,"class","category-link-container"),T(r,"class","category-card"),T(o,"class","category-card"),T(o,"href",n[0]),T(d,"class","category-card-link-small"),T(d,"href",n[0]),T(e,"class","category-card-container")},m(t,n){h(t,e,n),g(e,o),g(o,r),x.m(r,null),g(r,c),g(r,i),g(i,l),g(l,s),g(i,u),g(i,a),g(e,f),g(e,d),g(d,p)},p(t,[n]){w===(w=m(t))&&x?x.p(t,n):(x.d(1),x=w(t),x&&(x.c(),x.m(r,c))),8&n&&_(s,t[3]),1&n&&T(o,"href",t[0]),8&n&&_(p,t[3]),1&n&&T(d,"href",t[0])},i:t,o:t,d(t){t&&$(e),x.d()}}}function tt(t,n,e){let{url:o}=n,{imageUrl:r}=n,{imageAlt:c}=n,{title:i}=n;return t.$$set=t=>{"url"in t&&e(0,o=t.url),"imageUrl"in t&&e(1,r=t.imageUrl),"imageAlt"in t&&e(2,c=t.imageAlt),"title"in t&&e(3,i=t.title)},[o,r,c,i]}class nt extends G{constructor(t){super(),Z(this,t,tt,W,i,{url:0,imageUrl:1,imageAlt:2,title:3})}}var et={$:t=>"string"==typeof t?document.querySelector(t):t,extend:(...t)=>Object.assign(...t),cumulativeOffset(t){let n=0,e=0;do{n+=t.offsetTop||0,e+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:n,left:e}},directScroll:t=>t&&t!==document&&t!==document.body,scrollTop(t,n){let e=void 0!==n;return this.directScroll(t)?e?t.scrollTop=n:t.scrollTop:e?document.documentElement.scrollTop=document.body.scrollTop=n:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(t,n){let e=void 0!==n;return this.directScroll(t)?e?t.scrollLeft=n:t.scrollLeft:e?document.documentElement.scrollLeft=document.body.scrollLeft=n:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const ot={container:"body",duration:500,delay:0,offset:0,easing:function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1},onStart:t,onDone:t,onAborting:t,scrollX:!1,scrollY:!0},rt=t=>{let{offset:n,duration:e,delay:o,easing:r,x:c=0,y:i=0,scrollX:l,scrollY:s,onStart:u,onDone:a,container:g,onAborting:h,element:$}=t;"function"==typeof n&&(n=n());var b=et.cumulativeOffset(g),y=$?et.cumulativeOffset($):{top:i,left:c},v=et.scrollLeft(g),w=et.scrollTop(g),x=y.left-b.left+n,T=y.top-b.top+n,_=x-v,k=T-w;let E=!0,P=!1,L=f()+o,A=L+e;function S(t){t||(P=!0,u($,{x:c,y:i}))}function U(t){!function(t,n,e){l&&et.scrollLeft(t,e),s&&et.scrollTop(t,n)}(g,w+k*t,v+_*t)}function O(){E=!1}return function(t){let n;0===p.size&&d(m),new Promise((e=>{p.add(n={c:t,f:e})}))}((t=>{if(!P&&t>=L&&S(!1),P&&t>=A&&(U(1),O(),a($,{x:c,y:i})),!E)return h($,{x:c,y:i}),!1;if(P){U(0+1*r((t-L)/e))}return!0})),S(o),U(0),O},ct=t=>rt((t=>{let n=et.extend({},ot,t);return n.container=et.$(n.container),n.element=et.$(n.element),n})(t)),it=[];function lt(n,e=t){let o;const r=new Set;function c(t){if(i(n,t)&&(n=t,o)){const t=!it.length;for(const t of r)t[1](),it.push(t,n);if(t){for(let t=0;t<it.length;t+=2)it[t][0](it[t+1]);it.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(i,l=t){const s=[i,l];return r.add(s),1===r.size&&(o=e(c)||t),i(n),()=>{r.delete(s),0===r.size&&o&&(o(),o=null)}}}}const st=lt([]),ut=lt(1);async function at(t){const n=await fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})});return await n.json()}function ft(n){let e;return{c(){e=b("button"),e.textContent="Prev",T(e,"class","prev-next-button"),e.disabled=!0},m(t,n){h(t,e,n)},p:t,d(t){t&&$(e)}}}function dt(n){let e,o,r;return{c(){e=b("button"),e.textContent="Prev",T(e,"class","prev-next-button")},m(t,c){h(t,e,c),o||(r=x(e,"click",n[4]),o=!0)},p:t,d(t){t&&$(e),o=!1,r()}}}function pt(t){let n,e,o,r,c=t[1]-2+"";return{c(){n=b("button"),e=y(c),T(n,"class","pagination-button")},m(c,i){h(c,n,i),g(n,e),o||(r=x(n,"click",t[5]),o=!0)},p(t,n){2&n&&c!==(c=t[1]-2+"")&&_(e,c)},d(t){t&&$(n),o=!1,r()}}}function mt(t){let n,e,o,r,c=t[1]-1+"";return{c(){n=b("button"),e=y(c),T(n,"class","pagination-button")},m(c,i){h(c,n,i),g(n,e),o||(r=x(n,"click",t[6]),o=!0)},p(t,n){2&n&&c!==(c=t[1]-1+"")&&_(e,c)},d(t){t&&$(n),o=!1,r()}}}function gt(t){let n,e,o,r,c=t[1]+1+"";return{c(){n=b("button"),e=y(c),T(n,"class","pagination-button")},m(c,i){h(c,n,i),g(n,e),o||(r=x(n,"click",t[7]),o=!0)},p(t,n){2&n&&c!==(c=t[1]+1+"")&&_(e,c)},d(t){t&&$(n),o=!1,r()}}}function ht(t){let n,e,o,r,c=t[1]+2+"";return{c(){n=b("button"),e=y(c),T(n,"class","pagination-button")},m(c,i){h(c,n,i),g(n,e),o||(r=x(n,"click",t[8]),o=!0)},p(t,n){2&n&&c!==(c=t[1]+2+"")&&_(e,c)},d(t){t&&$(n),o=!1,r()}}}function $t(t){let n,e,o,r,c,i;return{c(){n=b("div"),n.innerHTML="<span>...</span>",e=v(),o=b("button"),r=y(t[0]),T(n,"class","pagination-seperator-dots"),T(o,"class","pagination-button")},m(l,s){h(l,n,s),h(l,e,s),h(l,o,s),g(o,r),c||(i=x(o,"click",t[9]),c=!0)},p(t,n){1&n&&_(r,t[0])},d(t){t&&$(n),t&&$(e),t&&$(o),c=!1,i()}}}function bt(n){let e;return{c(){e=b("button"),e.textContent="Next",T(e,"class","prev-next-button"),e.disabled=!0},m(t,n){h(t,e,n)},p:t,d(t){t&&$(e)}}}function yt(n){let e,o,r;return{c(){e=b("button"),e.textContent="Next",T(e,"class","prev-next-button")},m(t,c){h(t,e,c),o||(r=x(e,"click",n[10]),o=!0)},p:t,d(t){t&&$(e),o=!1,r()}}}function vt(n){let e,o,r,c,i,l,s,u,a,f,d;function p(t,n){return t[1]>1?dt:ft}let m=p(n),x=m(n),k=n[1]==n[0]&&n[0]>2&&pt(n),E=n[1]>1&&mt(n),P=n[1]<n[0]&&gt(n),L=1==n[1]&&n[0]>2&&ht(n),A=n[1]<n[0]-1&&n[0]>3&&$t(n);function S(t,n){return t[1]<t[0]?yt:bt}let U=S(n),O=U(n);return{c(){x.c(),e=v(),o=b("div"),k&&k.c(),r=v(),E&&E.c(),c=v(),i=b("button"),l=y(n[1]),s=v(),P&&P.c(),u=v(),L&&L.c(),a=v(),A&&A.c(),f=v(),O.c(),d=w(),T(i,"class","pagination-button pagination-button__current"),T(o,"class","page-number-buttons")},m(t,n){x.m(t,n),h(t,e,n),h(t,o,n),k&&k.m(o,null),g(o,r),E&&E.m(o,null),g(o,c),g(o,i),g(i,l),g(o,s),P&&P.m(o,null),g(o,u),L&&L.m(o,null),g(o,a),A&&A.m(o,null),h(t,f,n),O.m(t,n),h(t,d,n)},p(t,[n]){m===(m=p(t))&&x?x.p(t,n):(x.d(1),x=m(t),x&&(x.c(),x.m(e.parentNode,e))),t[1]==t[0]&&t[0]>2?k?k.p(t,n):(k=pt(t),k.c(),k.m(o,r)):k&&(k.d(1),k=null),t[1]>1?E?E.p(t,n):(E=mt(t),E.c(),E.m(o,c)):E&&(E.d(1),E=null),2&n&&_(l,t[1]),t[1]<t[0]?P?P.p(t,n):(P=gt(t),P.c(),P.m(o,u)):P&&(P.d(1),P=null),1==t[1]&&t[0]>2?L?L.p(t,n):(L=ht(t),L.c(),L.m(o,a)):L&&(L.d(1),L=null),t[1]<t[0]-1&&t[0]>3?A?A.p(t,n):(A=$t(t),A.c(),A.m(o,null)):A&&(A.d(1),A=null),U===(U=S(t))&&O?O.p(t,n):(O.d(1),O=U(t),O&&(O.c(),O.m(d.parentNode,d)))},i:t,o:t,d(t){x.d(t),t&&$(e),t&&$(o),k&&k.d(),E&&E.d(),P&&P.d(),L&&L.d(),A&&A.d(),t&&$(f),O.d(t),t&&$(d)}}}function wt(t,n,e){let o;u(t,ut,(t=>e(1,o=t)));let{totalPages:r}=n,{transition:c}=n;function i(t){ct({element:"#category-archive",duration:200}),e(3,c=!0),ut.set(t);const n=new URL(location);n.searchParams.set("pagination",t),history.pushState({},"",n),setTimeout((()=>{e(3,c=!1)}),10)}return t.$$set=t=>{"totalPages"in t&&e(0,r=t.totalPages),"transition"in t&&e(3,c=t.transition)},[r,o,i,c,()=>{i(o-1)},()=>{i(o-2)},()=>{i(o-1)},()=>{i(o+1)},()=>{i(o+2)},()=>{i(r)},()=>{i(o+1)}]}class xt extends G{constructor(t){super(),Z(this,t,wt,vt,i,{totalPages:0,transition:3})}}function Tt(t,n,e){const o=t.slice();return o[10]=n[e],o}function _t(t){let n,e,o=t[1],r=[];for(let n=0;n<o.length;n+=1)r[n]=kt(Tt(t,o,n));const c=t=>Y(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=w()},m(t,o){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(t,o);h(t,n,o),e=!0},p(t,e){if(2&e){let i;for(o=t[1],i=0;i<o.length;i+=1){const c=Tt(t,o,i);r[i]?(r[i].p(c,e),X(r[i],1)):(r[i]=kt(c),r[i].c(),X(r[i],1),r[i].m(n.parentNode,n))}for(F(),i=o.length;i<r.length;i+=1)c(i);B()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)X(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Y(r[t]);e=!1},d(t){!function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(r,t),t&&$(n)}}}function kt(t){let e,o;const r=[t[10]];let c={};for(let t=0;t<r.length;t+=1)c=n(c,r[t]);return e=new nt({props:c}),{c(){H(e.$$.fragment)},m(t,n){R(e,t,n),o=!0},p(t,n){const o=2&n?function(t,n){const e={},o={},r={$$scope:1};let c=t.length;for(;c--;){const i=t[c],l=n[c];if(l){for(const t in i)t in l||(o[t]=1);for(const t in l)r[t]||(e[t]=l[t],r[t]=1);t[c]=l}else for(const t in i)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(r,[(c=t[10],"object"==typeof c&&null!==c?c:{})]):{};var c;e.$set(o)},i(t){o||(X(e.$$.fragment,t),o=!0)},o(t){Y(e.$$.fragment,t),o=!1},d(t){V(e,t)}}}function Et(t){let n,e,o;function r(n){t[7](n)}let c={totalPages:t[2]};return void 0!==t[0]&&(c.transition=t[0]),n=new xt({props:c}),A.push((()=>function(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}(n,"transition",r))),{c(){H(n.$$.fragment)},m(t,e){R(n,t,e),o=!0},p(t,o){const r={};var c;4&o&&(r.totalPages=t[2]),!e&&1&o&&(e=!0,r.transition=t[0],c=()=>e=!1,U.push(c)),n.$set(r)},i(t){o||(X(n.$$.fragment,t),o=!0)},o(t){Y(n.$$.fragment,t),o=!1},d(t){V(n,t)}}}function Pt(t){let n,e,o,r,c,i,l=0==t[0]&&_t(t),s=t[2]>1&&Et(t);return{c(){n=b("section"),e=b("div"),o=b("ul"),l&&l.c(),r=v(),c=b("div"),s&&s.c(),T(o,"class","insight-archive-grid mobile-two-column"),T(e,"class","insight-archive-grid-container"),T(c,"class","pagination-container"),T(n,"class","insight-archive")},m(t,u){h(t,n,u),g(n,e),g(e,o),l&&l.m(o,null),g(n,r),g(n,c),s&&s.m(c,null),i=!0},p(t,[n]){0==t[0]?l?(l.p(t,n),1&n&&X(l,1)):(l=_t(t),l.c(),X(l,1),l.m(o,null)):l&&(F(),Y(l,1,1,(()=>{l=null})),B()),t[2]>1?s?(s.p(t,n),4&n&&X(s,1)):(s=Et(t),s.c(),X(s,1),s.m(c,null)):s&&(F(),Y(s,1,1,(()=>{s=null})),B())},i(t){i||(X(l),X(s),i=!0)},o(t){Y(l),Y(s),i=!1},d(t){t&&$(n),l&&l.d(),s&&s.d()}}}function Lt(t,n,e){let o,r,c,i;u(t,ut,(t=>e(6,c=t))),u(t,st,(t=>e(8,i=t)));let{archiveType:l=""}=n,{postsPerPage:s}=n;const a=new URLSearchParams(window.location.search);let f;ut.set(parseInt(a.get("pagination"))||1);let d=!1;return P((async()=>{let t;var n;if(i=[],n=i,st.set(n),"warranties"==l){t="{\n  warranties {\n    edges {\n      node {\n        id\n        title\n        link\n        featuredImage {\n          node {\n            altText\n            sourceUrl(size: MEDIUM)\n          }\n        }\n      }\n    }\n  }\n}";let n=[];(await at(t)).data.warranties.edges.forEach((t=>{let e={title:t.node.title,url:t.node.link,imageUrl:t.node.featuredImage.node.sourceUrl,imageAlt:t.node.featuredImage.node.altText};n.push(e)})),st.set(n)}if("categories"==l){t="{\n  productCategories(first: 1000) {\n    edges {\n      node {\n        id\n        name\n        parentId\n        link\n        customFields {\n          categoryImage {\n            altText\n            sourceUrl(size: MEDIUM)\n          }\n        }\n      }\n    }\n  }\n}";let n=[],e=await at(t);console.log(e),e.data.productCategories.edges.forEach((t=>{let e={title:t.node.name,url:t.node.link,imageUrl:t.node.customFields.categoryImage?.sourceUrl,imageAlt:t.node.customFields.categoryImage?.altText};n.push(e)})),st.set(n)}})),st.subscribe((t=>{e(5,f=function(t,n,e){let o=[],r=[];return n.forEach((n=>{if(o.push(n),o.length==t)return r.push(o),void(o=[])})),o.length>0&&r.push(o),console.log(r),r}(s,t))})),t.$$set=t=>{"archiveType"in t&&e(3,l=t.archiveType),"postsPerPage"in t&&e(4,s=t.postsPerPage)},t.$$.update=()=>{32&t.$$.dirty&&e(2,o=f.length),96&t.$$.dirty&&e(1,r=f[c-1]||[])},[d,r,o,l,s,f,c,function(t){d=t,e(0,d)}]}return class extends G{constructor(t){super(),Z(this,t,Lt,Pt,i,{archiveType:3,postsPerPage:4})}}}));
//# sourceMappingURL=category-archive.js.map
