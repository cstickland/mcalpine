!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Archive=e()}(this,(function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function s(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function a(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function u(t,e,n){return t.set(n),e}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),h=d?t=>requestAnimationFrame(t):t;const g=new Set;function p(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&h(p)}function m(t,e){t.appendChild(e)}function $(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function v(t){const e=k("style");return function(t,e){m(t.head||t,e),e.sheet}($(t),e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function _(){return C(" ")}function L(){return C("")}function M(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t){return""===t?null:+t}function P(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}class S{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=x(e.nodeName):this.e=k(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)w(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(y)}}const N=new Map;let F,H=0;function A(t,e,n,r,i,o,c,l=0){const s=16.666/r;let a="{\n";for(let t=0;t<=1;t+=s){const r=e+(n-e)*o(t);a+=100*t+`%{${c(r,1-r)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,f=$(t),{stylesheet:h,rules:g}=N.get(f)||function(t,e){const n={stylesheet:v(e),rules:{}};return N.set(t,n),n}(f,t);g[d]||(g[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${r}ms linear ${i}ms 1 both`,H+=1,d}function B(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),H-=i,H||h((()=>{H||(N.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&y(e)})),N.clear())})))}function j(t){F=t}function O(t){(function(){if(!F)throw new Error("Function called outside component initialization");return F})().$$.on_mount.push(t)}function R(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const U=[],q=[];let I=[];const V=[],D=Promise.resolve();let K=!1;function W(t){I.push(t)}function Z(t){V.push(t)}const G=new Set;let J,Q=0;function X(){if(0!==Q)return;const t=F;do{try{for(;Q<U.length;){const t=U[Q];Q++,j(t),Y(t.$$)}}catch(t){throw U.length=0,Q=0,t}for(j(null),U.length=0,Q=0;q.length;)q.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];G.has(e)||(G.add(e),e())}I.length=0}while(U.length);for(;V.length;)V.pop()();K=!1,G.clear(),j(t)}function Y(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}function tt(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(`${e?"intro":"outro"}${n}`))}const et=new Set;let nt;function rt(){nt={r:0,c:[],p:nt}}function it(){nt.r||i(nt.c),nt=nt.p}function ot(t,e){t&&t.i&&(et.delete(t),t.i(e))}function ct(t,e,n,r){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push((()=>{et.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const lt={duration:0};function st(n,r,c,l){const s={direction:"both"};let a=r(n,c,s),u=l?0:1,d=null,m=null,$=null;function v(){$&&B(n,$)}function w(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(r){const{delay:o=0,duration:c=300,easing:l=e,tick:s=t,css:y}=a||lt,b={start:f()+o,b:r};r||(b.group=nt,nt.r+=1),d||m?m=b:(y&&(v(),$=A(n,u,r,c,o,l,y)),r&&s(0,1),d=w(b,c),W((()=>tt(n,r,"start"))),function(t){let e;0===g.size&&h(p),new Promise((n=>{g.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(d=w(m,c),m=null,tt(n,d.b,"start"),y&&(v(),$=A(n,u,d.b,d.duration,0,l,a.css))),d)if(t>=d.end)s(u=d.b,1-u),tt(n,d.b,"end"),m||(d.b?v():--d.group.r||i(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*l(e/d.duration),s(u,1-u)}return!(!d&&!m)})))}return{run(t){o(a)?(J||(J=Promise.resolve(),J.then((()=>{J=null}))),J).then((()=>{a=a(s),y(t)})):y(t)},end(){v(),d=m=null}}}function at(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ut(t){t&&t.c()}function dt(t,e,r,c){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,r),c||W((()=>{const e=t.$$.on_mount.map(n).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),s.forEach(W)}function ft(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];I.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),I=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(U.push(t),K||(K=!0,D.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(e,n,o,c,l,s,a,u=[-1]){const d=F;j(e);const f=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let h=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),h&&ht(e,t)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&ot(e.$$.fragment),dt(e,n.target,n.anchor,n.customElement),X()}j(d)}class pt{$destroy(){ft(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function mt(t,e,n){const r=t.slice();return r[7]=e[n],r}function $t(t){let e;return{c(){e=C("SKU")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function vt(t){let e;return{c(){e=C("SKUs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function wt(t){let e,n,r,i=t[7]+"";return{c(){e=k("span"),n=C(i),r=_()},m(t,i){w(t,e,i),m(e,n),m(e,r)},p(t,e){1&e&&i!==(i=t[7]+"")&&P(n,i)},d(t){t&&y(e)}}}function yt(e){let n,r,o,c,l,a,u,d,f,h,g,p,$,v,E,T,S,N,F,H,A,B,j,O,R,U,q,I,V,D,K,W,Z,G,J,Q,X,Y,tt,et,nt,rt=e[0].title+"",it=e[0].skus.length+"",ot=e[0].title+"",ct=e[0].title+"",lt=1==e[0].skus.length&&$t(),st=e[0].skus.length>1&&vt(),at=e[0].skus,ut=[];for(let t=0;t<at.length;t+=1)ut[t]=wt(mt(e,at,t));return{c(){n=k("div"),r=k("a"),o=k("div"),c=k("div"),l=k("img"),d=_(),f=k("div"),h=_(),g=k("div"),p=k("span"),$=C(it),v=_(),lt&&lt.c(),E=L(),st&&st.c(),T=_(),S=k("span"),S.textContent="SKUs",N=_(),F=k("a"),H=x("svg"),A=x("path"),j=_(),O=k("div"),R=k("div");for(let t=0;t<ut.length;t+=1)ut[t].c();U=_(),q=k("div"),I=_(),V=k("div"),V.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path></g></g></svg>',D=_(),K=k("a"),W=x("svg"),Z=x("path"),X=_(),Y=k("a"),s(l.src,a=e[0].image_url)||z(l,"src",a),z(l,"alt",""),z(c,"class","product-image-link"),z(c,"href",u=e[0].link),z(f,"class","product-title"),z(p,"class","sku-count-default"),z(S,"class","sku-count-small"),z(g,"class","sku-count"),z(A,"d","M0,16.245V11.68L6.667,7.869,0,4.06V0L13.922,8.122,0,16.244Z"),z(A,"fill","#fff"),z(H,"xmlns","http://www.w3.org/2000/svg"),z(H,"width","13.922"),z(H,"height","16.245"),z(H,"viewBox","0 0 13.922 16.245"),z(F,"class","product-card-link"),z(F,"href",B=e[0].link),z(o,"class","product-block-image"),z(R,"class","sku-list"),z(q,"class","product-title"),z(V,"class","sku-close"),z(Z,"d","M0,16.245V11.68L6.667,7.869,0,4.06V0L13.922,8.122,0,16.244Z"),z(Z,"fill","#fff"),z(W,"xmlns","http://www.w3.org/2000/svg"),z(W,"width","13.922"),z(W,"height","16.245"),z(W,"viewBox","0 0 13.922 16.245"),z(K,"class","product-card-link"),z(K,"href",G=e[0].link),z(O,"class","sku-list-container"),z(r,"href",J=e[0].link),z(r,"class",Q="product-card "+e[2]),z(Y,"href",tt=e[0].link),z(Y,"class","product-title-small"),z(n,"class","product-card-container")},m(t,i){w(t,n,i),m(n,r),m(r,o),m(o,c),m(c,l),m(o,d),m(o,f),f.innerHTML=rt,m(o,h),m(o,g),m(g,p),m(p,$),m(p,v),lt&&lt.m(p,null),m(p,E),st&&st.m(p,null),m(g,T),m(g,S),m(o,N),m(o,F),m(F,H),m(H,A),m(r,j),m(r,O),m(O,R);for(let t=0;t<ut.length;t+=1)ut[t]&&ut[t].m(R,null);m(O,U),m(O,q),q.innerHTML=ot,m(O,I),m(O,V),m(O,D),m(O,K),m(K,W),m(W,Z),m(n,X),m(n,Y),Y.innerHTML=ct,et||(nt=[M(g,"click",e[5]),M(g,"keydown",e[4]),M(V,"click",e[6]),M(V,"keydown",e[3])],et=!0)},p(t,[e]){if(1&e&&!s(l.src,a=t[0].image_url)&&z(l,"src",a),1&e&&u!==(u=t[0].link)&&z(c,"href",u),1&e&&rt!==(rt=t[0].title+"")&&(f.innerHTML=rt),1&e&&it!==(it=t[0].skus.length+"")&&P($,it),1==t[0].skus.length?lt||(lt=$t(),lt.c(),lt.m(p,E)):lt&&(lt.d(1),lt=null),t[0].skus.length>1?st||(st=vt(),st.c(),st.m(p,null)):st&&(st.d(1),st=null),1&e&&B!==(B=t[0].link)&&z(F,"href",B),1&e){let n;for(at=t[0].skus,n=0;n<at.length;n+=1){const r=mt(t,at,n);ut[n]?ut[n].p(r,e):(ut[n]=wt(r),ut[n].c(),ut[n].m(R,null))}for(;n<ut.length;n+=1)ut[n].d(1);ut.length=at.length}1&e&&ot!==(ot=t[0].title+"")&&(q.innerHTML=ot),1&e&&G!==(G=t[0].link)&&z(K,"href",G),1&e&&J!==(J=t[0].link)&&z(r,"href",J),4&e&&Q!==(Q="product-card "+t[2])&&z(r,"class",Q),1&e&&ct!==(ct=t[0].title+"")&&(Y.innerHTML=ct),1&e&&tt!==(tt=t[0].link)&&z(Y,"href",tt)},i:t,o:t,d(t){t&&y(n),lt&&lt.d(),st&&st.d(),b(ut,t),et=!1,i(nt)}}}function bt(t,e,n){let r,{product:i=[]}=e,o=!1;return t.$$set=t=>{"product"in t&&n(0,i=t.product)},t.$$.update=()=>{2&t.$$.dirty&&n(2,r=o?"open":"closed")},[i,o,r,function(e){R.call(this,t,e)},function(e){R.call(this,t,e)},()=>{n(1,o=!0)},()=>{n(1,o=!1)}]}class kt extends pt{constructor(t){super(),gt(this,t,bt,yt,c,{product:0})}}const xt=[];function Ct(e,n=t){let r;const i=new Set;function o(t){if(c(e,t)&&(e=t,r)){const t=!xt.length;for(const t of i)t[1](),xt.push(t,e);if(t){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(c,l=t){const s=[c,l];return i.add(s),1===i.size&&(r=n(o)||t),c(e),()=>{i.delete(s),0===i.size&&r&&(r(),r=null)}}}}const _t=Ct(48),Lt=Ct(new Set([])),Mt=Ct(new Set([])),zt=Ct(1);function Et(e){let n,r,i,o,c=e[0]?"Loading...":"Load More";return{c(){n=k("button"),r=C(c),z(n,"class","btn btn-black svelte-pgpjbr"),z(n,"aria-label","load more")},m(t,c){w(t,n,c),m(n,r),i||(o=M(n,"click",e[1]),i=!0)},p(t,[e]){1&e&&c!==(c=t[0]?"Loading...":"Load More")&&P(r,c)},i:t,o:t,d(t){t&&y(n),i=!1,o()}}}function Pt(t,e,n){let r;a(t,zt,(t=>n(2,r=t)));let i=!1;return[i,async function(){n(0,i=!0),zt.set(parseInt(r)+1),n(0,i=!1)}]}class Tt extends pt{constructor(t){super(),gt(this,t,Pt,Et,c,{})}}function St(e){let n,r,i;return{c(){n=k("input"),z(n,"type","number"),z(n,"min","1"),z(n,"max","144")},m(t,o){w(t,n,o),T(n,e[0]),r||(i=M(n,"input",e[1]),r=!0)},p(t,[e]){1&e&&E(n.value)!==t[0]&&T(n,t[0])},i:t,o:t,d(t){t&&y(n),r=!1,i()}}}function Nt(t,e,n){let r;return a(t,_t,(t=>n(0,r=t))),[r,function(){r=E(this.value),_t.set(r)}]}class Ft extends pt{constructor(t){super(),gt(this,t,Nt,St,c,{})}}function Ht(e){let n,r,i;return{c(){n=k("button"),n.innerHTML='<div class="square"></div> \n    <div class="square"></div>',z(n,"class","layout-button grid-layout-button-mobile")},m(t,o){w(t,n,o),r||(i=M(n,"click",e[3]),r=!0)},p:t,d(t){t&&y(n),r=!1,i()}}}function At(e){let n,r,i;W(e[2]);let o=e[1]<650&&Ht(e);return{c(){o&&o.c(),n=L()},m(t,c){o&&o.m(t,c),w(t,n,c),r||(i=M(window,"resize",e[2]),r=!0)},p(t,[e]){t[1]<650?o?o.p(t,e):(o=Ht(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&y(n),r=!1,i()}}}function Bt(t,e,n){let r,{gridStyle:i}=e;return t.$$set=t=>{"gridStyle"in t&&n(0,i=t.gridStyle)},[i,r,function(){n(1,r=window.innerWidth)},()=>n(0,i=!i)]}class jt extends pt{constructor(t){super(),gt(this,t,Bt,At,c,{gridStyle:0})}}function Ot(t){const e=t-1;return e*e*e+1}function Rt(t,{delay:e=0,duration:n=400,easing:r=Ot,axis:i="y"}={}){const o=getComputedStyle(t),c=+o.opacity,l="y"===i?"height":"width",s=parseFloat(o[l]),a="y"===i?["top","bottom"]:["left","right"],u=a.map((t=>`${t[0].toUpperCase()}${t.slice(1)}`)),d=parseFloat(o[`padding${u[0]}`]),f=parseFloat(o[`padding${u[1]}`]),h=parseFloat(o[`margin${u[0]}`]),g=parseFloat(o[`margin${u[1]}`]),p=parseFloat(o[`border${u[0]}Width`]),m=parseFloat(o[`border${u[1]}Width`]);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*c};${l}: ${t*s}px;padding-${a[0]}: ${t*d}px;padding-${a[1]}: ${t*f}px;margin-${a[0]}: ${t*h}px;margin-${a[1]}: ${t*g}px;border-${a[0]}-width: ${t*p}px;border-${a[1]}-width: ${t*m}px;`}}function Ut(t,e,n){const r=t.slice();return r[11]=e[n],r}function qt(t){let e;return{c(){e=k("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-down"><rect width="24" height="24" opacity="0"></rect><path d="M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"></path></g></g></svg>'},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function It(t){let e;return{c(){e=k("span"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="chevron-up"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect><path d="M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"></path></g></g></svg>'},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Vt(t){let e,n,r,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=Wt(Ut(t,i,e));return{c(){e=k("div");for(let t=0;t<o.length;t+=1)o[t].c();z(e,"class","product-archive-category-list")},m(t,n){w(t,e,n);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);r=!0},p(t,n){if(117&n){let r;for(i=t[0],r=0;r<i.length;r+=1){const c=Ut(t,i,r);o[r]?o[r].p(c,n):(o[r]=Wt(c),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},i(t){r||(W((()=>{r&&(n||(n=st(e,Rt,{axis:"y",duration:300},!0)),n.run(1))})),r=!0)},o(t){n||(n=st(e,Rt,{axis:"y",duration:300},!1)),n.run(0),r=!1},d(t){t&&y(e),b(o,t),t&&n&&n.end()}}}function Dt(t){let e,n,r;return{c(){e=k("div"),n=k("div"),z(n,"class","toggle-circle"),z(e,"class",r="category-toggle "+(t[4].has(t[11].term_id)?"checked":"unchecked"))},m(t,r){w(t,e,r),m(e,n)},p(t,n){17&n&&r!==(r="category-toggle "+(t[4].has(t[11].term_id)?"checked":"unchecked"))&&z(e,"class",r)},d(t){t&&y(e)}}}function Kt(t){let e,n,r;return{c(){e=k("div"),n=k("div"),z(n,"class","toggle-circle"),z(e,"class",r="category-toggle "+(t[5].has(t[11].term_id)?"checked":"unchecked"))},m(t,r){w(t,e,r),m(e,n)},p(t,n){33&n&&r!==(r="category-toggle "+(t[5].has(t[11].term_id)?"checked":"unchecked"))&&z(e,"class",r)},d(t){t&&y(e)}}}function Wt(t){let e,n,r,o,c,l,s=t[11].name+"";function a(t,e){return t[2]?Kt:Dt}let u=a(t),d=u(t);function f(){return t[10](t[11])}return{c(){e=k("li"),d.c(),n=_(),r=new S(!1),o=_(),r.a=o},m(i,a){w(i,e,a),d.m(e,null),m(e,n),r.m(s,e),m(e,o),c||(l=[M(e,"click",f),M(e,"keydown",t[8])],c=!0)},p(i,o){u===(u=a(t=i))&&d?d.p(t,o):(d.d(1),d=u(t),d&&(d.c(),d.m(e,n))),1&o&&s!==(s=t[11].name+"")&&r.p(s)},d(t){t&&y(e),d.d(),c=!1,i(l)}}}function Zt(t){let e,n,r,i,o,c,l,s,a;function u(t,e){return t[3]?It:qt}let d=u(t),f=d(t),h=t[3]&&Vt(t);return{c(){e=k("ul"),n=k("button"),r=k("h5"),i=C(t[1]),o=_(),f.c(),c=_(),h&&h.c(),z(n,"class","filter-category-title"),z(e,"class","product-archive-filters-section")},m(u,d){w(u,e,d),m(e,n),m(n,r),m(r,i),m(n,o),f.m(n,null),m(e,c),h&&h.m(e,null),l=!0,s||(a=M(n,"click",t[9]),s=!0)},p(t,[r]){(!l||2&r)&&P(i,t[1]),d!==(d=u(t))&&(f.d(1),f=d(t),f&&(f.c(),f.m(n,null))),t[3]?h?(h.p(t,r),8&r&&ot(h,1)):(h=Vt(t),h.c(),ot(h,1),h.m(e,null)):h&&(rt(),ct(h,1,1,(()=>{h=null})),it())},i(t){l||(ot(h),l=!0)},o(t){ct(h),l=!1},d(t){t&&y(e),f.d(),h&&h.d(),s=!1,a()}}}function Gt(t,e,n){let r,i;a(t,Lt,(t=>n(4,r=t))),a(t,Mt,(t=>n(5,i=t)));let{categories:o=[]}=e,{title:c="title"}=e,{isParent:l}=e,s=!1,d=[];function f(t){if(zt.set(1),l)return i.has(t)?i.delete(t)&&Mt.set(i):u(Mt,i=i.add(t),i),void n(7,d=[...i]);r.has(t)?r.delete(t)&&Lt.set(r):u(Lt,r=r.add(t),r),n(7,d=[...r])}return t.$$set=t=>{"categories"in t&&n(0,o=t.categories),"title"in t&&n(1,c=t.title),"isParent"in t&&n(2,l=t.isParent)},t.$$.update=()=>{128&t.$$.dirty&&d.length&&d&&zt.set(1),132&t.$$.dirty&&l&&d.length&&Lt.set(new Set)},[o,c,l,s,r,i,f,d,function(e){R.call(this,t,e)},()=>{n(3,s=!s)},t=>{f(t.term_id)}]}class Jt extends pt{constructor(t){super(),gt(this,t,Gt,Zt,c,{categories:0,title:1,isParent:2})}}function Qt(t){let e,n,r;function i(e){t[5](e)}let o={title:"Category",categories:t[2],isParent:!0};return void 0!==t[1]&&(o.currentPage=t[1]),e=new Jt({props:o}),q.push((()=>at(e,"currentPage",i))),{c(){ut(e.$$.fragment)},m(t,n){dt(e,t,n),r=!0},p(t,r){const i={};4&r&&(i.categories=t[2]),!n&&2&r&&(n=!0,i.currentPage=t[1],Z((()=>n=!1))),e.$set(i)},i(t){r||(ot(e.$$.fragment,t),r=!0)},o(t){ct(e.$$.fragment,t),r=!1},d(t){ft(e,t)}}}function Xt(t){let e,n,r,i,o,c=t[2].length>1&&Qt(t);return r=new Jt({props:{title:"Subcategory",categories:t[0],isParent:!1}}),{c(){e=k("div"),c&&c.c(),n=_(),ut(r.$$.fragment),z(e,"class","product-archive-filters")},m(t,i){w(t,e,i),c&&c.m(e,null),m(e,n),dt(r,e,null),o=!0},p(t,[i]){t[2].length>1?c?(c.p(t,i),4&i&&ot(c,1)):(c=Qt(t),c.c(),ot(c,1),c.m(e,n)):c&&(rt(),ct(c,1,1,(()=>{c=null})),it());const o={};1&i&&(o.categories=t[0]),r.$set(o)},i(t){o||(ot(c),ot(r.$$.fragment,t),W((()=>{o&&(i||(i=st(e,Rt,{duration:300},!0)),i.run(1))})),o=!0)},o(t){ct(c),ct(r.$$.fragment,t),i||(i=st(e,Rt,{duration:300},!1)),i.run(0),o=!1},d(t){t&&y(e),c&&c.d(),ft(r),t&&i&&i.end()}}}function Yt(t,e,n){let r;a(t,Mt,(t=>n(4,r=t)));let{parentCategories:i=[]}=e,{childCategories:o=[]}=e,{currentPage:c}=e,{currentChildCategories:l=[]}=e;return t.$$set=t=>{"parentCategories"in t&&n(2,i=t.parentCategories),"childCategories"in t&&n(3,o=t.childCategories),"currentPage"in t&&n(1,c=t.currentPage),"currentChildCategories"in t&&n(0,l=t.currentChildCategories)},t.$$.update=()=>{25&t.$$.dirty&&(r.size>0?(n(0,l=[]),o.forEach((t=>{r.has(t.parent)&&l.push(t)}))):n(0,l=o))},[l,c,i,o,r,function(t){c=t,n(1,c)}]}class te extends pt{constructor(t){super(),gt(this,t,Yt,Xt,c,{parentCategories:2,childCategories:3,currentPage:1,currentChildCategories:0})}}function ee(t,e,n){const r=t.slice();return r[7]=e[n],r}function ne(t,e,n){const r=t.slice();return r[7]=e[n],r}function re(t){let e,n=[...t[1]],r=[];for(let e=0;e<n.length;e+=1)r[e]=ie(ne(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=L()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);w(t,e,n)},p(t,i){if(6&i){let o;for(n=[...t[1]],o=0;o<n.length;o+=1){const c=ne(t,n,o);r[o]?r[o].p(c,i):(r[o]=ie(c),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){b(r,t),t&&y(e)}}}function ie(t){let e,n,r,o,c,l,s,a=t[7]+"";function u(){return t[5](t[7])}return{c(){e=k("li"),n=C(a),r=_(),o=k("span"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path></g></g></svg>',c=_()},m(i,a){w(i,e,a),m(e,n),m(e,r),m(e,o),m(e,c),l||(s=[M(e,"keydown",t[4]),M(e,"click",u)],l=!0)},p(e,r){t=e,2&r&&a!==(a=t[7]+"")&&P(n,a)},d(t){t&&y(e),l=!1,i(s)}}}function oe(t){let e,n=[...t[0]],r=[];for(let e=0;e<n.length;e+=1)r[e]=ce(ee(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=L()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);w(t,e,n)},p(t,i){if(5&i){let o;for(n=[...t[0]],o=0;o<n.length;o+=1){const c=ee(t,n,o);r[o]?r[o].p(c,i):(r[o]=ce(c),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){b(r,t),t&&y(e)}}}function ce(t){let e,n,r,o,c,l,s,a=t[7]+"";function u(){return t[6](t[7])}return{c(){e=k("li"),n=C(a),r=_(),o=k("span"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path></g></g></svg>',c=_()},m(i,a){w(i,e,a),m(e,n),m(e,r),m(e,o),m(e,c),l||(s=[M(e,"keydown",t[3]),M(e,"click",u)],l=!0)},p(e,r){t=e,1&r&&a!==(a=t[7]+"")&&P(n,a)},d(t){t&&y(e),l=!1,i(s)}}}function le(e){let n,r,i=0==e[0].size&&e[1].size>0&&re(e),o=e[0].size>0&&oe(e);return{c(){n=k("ul"),i&&i.c(),r=_(),o&&o.c(),z(n,"class","active-filters")},m(t,e){w(t,n,e),i&&i.m(n,null),m(n,r),o&&o.m(n,null)},p(t,[e]){0==t[0].size&&t[1].size>0?i?i.p(t,e):(i=re(t),i.c(),i.m(n,r)):i&&(i.d(1),i=null),t[0].size>0?o?o.p(t,e):(o=oe(t),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i:t,o:t,d(t){t&&y(n),i&&i.d(),o&&o.d()}}}function se(t,e,n){let r,i;function o(t){i.has(t)&&i.delete(t)&&Mt.set(i),r.has(t)&&r.delete(t)&&Lt.set(r)}a(t,Lt,(t=>n(0,r=t))),a(t,Mt,(t=>n(1,i=t)));return[r,i,o,function(e){R.call(this,t,e)},function(e){R.call(this,t,e)},t=>{o(t)},t=>{o(t)}]}class ae extends pt{constructor(t){super(),gt(this,t,se,le,c,{})}}function ue(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function de(t){let e,n,r,i,o,c,l,s,a=(t[6].size>0||t[7].size>0)&&fe(t),u=t[4]&&he(t);return{c(){e=k("div"),n=k("button"),n.innerHTML='<div class="filters-icon"><div class="filter-line line-one"><div class="filter-line-black"></div> \n                        <div class="filter-line-red"></div></div> \n                    <div class="filter-line line-two"><div class="filter-line-black"></div> \n                        <div class="filter-line-red"></div></div> \n                    <div class="filter-line line-three"><div class="filter-line-black"></div> \n                        <div class="filter-line-red"></div></div></div>\n                Filters',r=_(),a&&a.c(),i=_(),u&&u.c(),o=L(),z(n,"class","filters-heading-open"),z(e,"class","filters-heading")},m(d,f){w(d,e,f),m(e,n),m(e,r),a&&a.m(e,null),w(d,i,f),u&&u.m(d,f),w(d,o,f),c=!0,l||(s=M(n,"click",t[18]),l=!0)},p(t,n){t[6].size>0||t[7].size>0?a?a.p(t,n):(a=fe(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),t[4]?u?(u.p(t,n),16&n&&ot(u,1)):(u=he(t),u.c(),ot(u,1),u.m(o.parentNode,o)):u&&(rt(),ct(u,1,1,(()=>{u=null})),it())},i(t){c||(ot(u),c=!0)},o(t){ct(u),c=!1},d(t){t&&y(e),a&&a.d(),t&&y(i),u&&u.d(t),t&&y(o),l=!1,s()}}}function fe(e){let n,r,o;return{c(){n=k("div"),n.textContent="Clear selection",z(n,"class","clear-filters")},m(t,i){w(t,n,i),r||(o=[M(n,"click",e[19]),M(n,"keydown",e[17])],r=!0)},p:t,d(t){t&&y(n),r=!1,i(o)}}}function he(t){let e,n;return e=new te({props:{childCategories:t[0],parentCategories:t[1]}}),{c(){ut(e.$$.fragment)},m(t,r){dt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.childCategories=t[0]),2&n&&(r.parentCategories=t[1]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function ge(e){let n;return{c(){n=k("div")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&y(n)}}}function pe(t){let e,n;return e=new ae({}),{c(){ut(e.$$.fragment)},m(t,r){dt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function me(t){let e,n;return e=new kt({props:{product:t[22]}}),{c(){ut(e.$$.fragment)},m(t,r){dt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.product=t[22]),e.$set(r)},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function $e(t){let e,n,r=t[24]<t[5]&&me(t);return{c(){r&&r.c(),e=L()},m(t,i){r&&r.m(t,i),w(t,e,i),n=!0},p(t,n){t[24]<t[5]?r?(r.p(t,n),32&n&&ot(r,1)):(r=me(t),r.c(),ot(r,1),r.m(e.parentNode,e)):r&&(rt(),ct(r,1,1,(()=>{r=null})),it())},i(t){n||(ot(r),n=!0)},o(t){ct(r),n=!1},d(t){r&&r.d(t),t&&y(e)}}}function ve(t){let e,n;return e=new Tt({}),{c(){ut(e.$$.fragment)},m(t,r){dt(e,t,r),n=!0},i(t){n||(ot(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function we(t){let e,n,r,i,o,c,l,s,a,u,d,f,h,g,p,$,v,x,C,L=t[2]&&de(t);const M=[pe,ge],E=[];function P(t,e){return t[6].size>0||t[7].size>0?0:1}function T(e){t[20](e)}i=P(t),o=E[i]=M[i](t),s=new Ft({});let S={};void 0!==t[9]&&(S.gridStyle=t[9]),u=new jt({props:S}),q.push((()=>at(u,"gridStyle",T)));let N=t[3],F=[];for(let e=0;e<N.length;e+=1)F[e]=$e(ue(t,N,e));const H=t=>ct(F[t],1,1,(()=>{F[t]=null}));let A=t[8]<t[12]&&ve();return{c(){e=k("section"),L&&L.c(),n=_(),r=k("div"),o.c(),c=_(),l=k("div"),ut(s.$$.fragment),a=_(),ut(u.$$.fragment),f=_(),h=k("div"),g=k("ul");for(let t=0;t<F.length;t+=1)F[t].c();$=_(),v=k("div"),A&&A.c(),z(l,"class","archive-controls-button-container"),z(r,"class","archive-controls"),z(g,"class",p=t[9]?"product-archive-grid columns":"product-archive-grid rows"),z(h,"class","product-archive-grid-container"),z(v,"class","pagination-container"),z(e,"class",x="product-archive "+t[10]+" "+t[11])},m(t,o){w(t,e,o),L&&L.m(e,null),m(e,n),m(e,r),E[i].m(r,null),m(r,c),m(r,l),dt(s,l,null),m(l,a),dt(u,l,null),m(e,f),m(e,h),m(h,g);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(g,null);m(e,$),m(e,v),A&&A.m(v,null),C=!0},p(t,[l]){t[2]?L?(L.p(t,l),4&l&&ot(L,1)):(L=de(t),L.c(),ot(L,1),L.m(e,n)):L&&(rt(),ct(L,1,1,(()=>{L=null})),it());let s=i;i=P(t),i!==s&&(rt(),ct(E[s],1,1,(()=>{E[s]=null})),it(),o=E[i],o||(o=E[i]=M[i](t),o.c()),ot(o,1),o.m(r,c));const a={};if(!d&&512&l&&(d=!0,a.gridStyle=t[9],Z((()=>d=!1))),u.$set(a),40&l){let e;for(N=t[3],e=0;e<N.length;e+=1){const n=ue(t,N,e);F[e]?(F[e].p(n,l),ot(F[e],1)):(F[e]=$e(n),F[e].c(),ot(F[e],1),F[e].m(g,null))}for(rt(),e=N.length;e<F.length;e+=1)H(e);it()}(!C||512&l&&p!==(p=t[9]?"product-archive-grid columns":"product-archive-grid rows"))&&z(g,"class",p),t[8]<t[12]?A?4352&l&&ot(A,1):(A=ve(),A.c(),ot(A,1),A.m(v,null)):A&&(rt(),ct(A,1,1,(()=>{A=null})),it()),(!C||3072&l&&x!==(x="product-archive "+t[10]+" "+t[11]))&&z(e,"class",x)},i(t){if(!C){ot(L),ot(o),ot(s.$$.fragment,t),ot(u.$$.fragment,t);for(let t=0;t<N.length;t+=1)ot(F[t]);ot(A),C=!0}},o(t){ct(L),ct(o),ct(s.$$.fragment,t),ct(u.$$.fragment,t),F=F.filter(Boolean);for(let t=0;t<F.length;t+=1)ct(F[t]);ct(A),C=!1},d(t){t&&y(e),L&&L.d(),E[i].d(),ft(s),ft(u),b(F,t),A&&A.d()}}}function ye(t,e,n){let r,i,o,c,l,s,u;a(t,Mt,(t=>n(6,c=t))),a(t,Lt,(t=>n(7,l=t))),a(t,_t,(t=>n(16,s=t))),a(t,zt,(t=>n(8,u=t)));let d,f,h,{allProducts:g=[]}=e,{childCategories:p=[]}=e,{parentCategories:m=[]}=e,{showFilters:$=!0}=e,v=!0,w=!1;function y(){Mt.set(new Set),Lt.set(new Set)}f=$?"":"hide-filters",O((()=>{const t=new URLSearchParams(window.location.search);let e=parseInt(t.get("page"))||1;zt.set(e)}));return t.$$set=t=>{"allProducts"in t&&n(14,g=t.allProducts),"childCategories"in t&&n(0,p=t.childCategories),"parentCategories"in t&&n(1,m=t.parentCategories),"showFilters"in t&&n(2,$=t.showFilters)},t.$$.update=()=>{16&t.$$.dirty&&n(11,h=w?"filters-open":"filters-closed"),16576&t.$$.dirty&&0==l.size&&0==c.size&&n(3,d=[...g]),16512&t.$$.dirty&&l.size>0&&n(3,d=g.filter((function(t){let e=!1;return t.subcategoryId.forEach((t=>{l.has(t)&&(e=!0)})),e}))),16576&t.$$.dirty&&c.size>0&&0==l.size&&n(3,d=g.filter((function(t){return c.has(t.categoryId)}))),8&t.$$.dirty&&n(15,r=d.length),98304&t.$$.dirty&&n(12,i=Math.ceil(r/s)),65792&t.$$.dirty&&n(5,o=u*s),t.$$.dirty},[p,m,$,d,w,o,c,l,u,v,f,h,i,y,g,r,s,function(e){R.call(this,t,e)},()=>{n(4,w=!w)},()=>{y()},function(t){v=t,n(9,v)}]}return class extends pt{constructor(t){super(),gt(this,t,ye,we,c,{allProducts:14,childCategories:0,parentCategories:1,showFilters:2})}}}));
//# sourceMappingURL=bundle.js.map
