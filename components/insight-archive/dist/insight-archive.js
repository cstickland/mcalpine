!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).InsightArchive=e()}(this,(function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function c(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const u="undefined"!=typeof window;let d=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const g=new Set;function h(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&f(h)}function p(t){let e;return 0===g.size&&f(h),{promise:new Promise((n=>{g.add(e={c:t,f:n})})),abort(){g.delete(e)}}}function m(t,e){t.appendChild(e)}function $(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function y(t){const e=v("style");return function(t,e){m(t.head||t,e),e.sheet}($(t),e),e.sheet}function b(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function N(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function C(){return k(" ")}function I(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.data!==e&&(t.data=e)}const P=new Map;let q,F=0;function S(t,e,n,o,r,s,i,a=0){const c=16.666/o;let l="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*s(t);l+=100*t+`%{${i(o,1-o)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,f=$(t),{stylesheet:g,rules:h}=P.get(f)||function(t,e){const n={stylesheet:y(e),rules:{}};return P.set(t,n),n}(f,t);h[d]||(h[d]=!0,g.insertRule(`@keyframes ${d} ${u}`,g.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${o}ms linear ${r}ms 1 both`,F+=1,d}function L(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),F-=r,F||f((()=>{F||(P.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&w(e)})),P.clear())})))}function T(t){q=t}function M(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const A=[],O=[];let U=[];const j=[],z=Promise.resolve();let R=!1;function B(t){U.push(t)}function D(t){j.push(t)}const W=new Set;let Q,H=0;function K(){if(0!==H)return;const t=q;do{try{for(;H<A.length;){const t=A[H];H++,T(t),Y(t.$$)}}catch(t){throw A.length=0,H=0,t}for(T(null),A.length=0,H=0;O.length;)O.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];W.has(e)||(W.add(e),e())}U.length=0}while(A.length);for(;j.length;)j.pop()();R=!1,W.clear(),T(t)}function Y(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}function J(){return Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q}function X(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(`${e?"intro":"outro"}${n}`))}const G=new Set;let V;function Z(){V={r:0,c:[],p:V}}function tt(){V.r||r(V.c),V=V.p}function et(t,e){t&&t.i&&(G.delete(t),t.i(e))}function nt(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),V.c.push((()=>{G.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const ot={duration:0};function rt(n,o,i,a){const c={direction:"both"};let l=o(n,i,c),u=a?0:1,f=null,g=null,h=null;function m(){h&&L(n,h)}function $(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:s=0,duration:i=300,easing:a=e,tick:c=t,css:y}=l||ot,b={start:d()+s,b:o};o||(b.group=V,V.r+=1),f||g?g=b:(y&&(m(),h=S(n,u,o,i,s,a,y)),o&&c(0,1),f=$(b,i),B((()=>X(n,o,"start"))),p((t=>{if(g&&t>g.start&&(f=$(g,i),g=null,X(n,f.b,"start"),y&&(m(),h=S(n,u,f.b,f.duration,0,a,l.css))),f)if(t>=f.end)c(u=f.b,1-u),X(n,f.b,"end"),g||(f.b?m():--f.group.r||r(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;u=f.a+f.d*a(e/f.duration),c(u,1-u)}return!(!f&&!g)})))}return{run(t){s(l)?J().then((()=>{l=l(c),y(t)})):y(t)},end(){m(),f=g=null}}}function st(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function it(t){t&&t.c()}function at(t,e,o,i){const{fragment:a,after_update:c}=t.$$;a&&a.m(e,o),i||B((()=>{const e=t.$$.on_mount.map(n).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(B)}function ct(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];U.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),U=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){-1===t.$$.dirty[0]&&(A.push(t),R||(R=!0,z.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,n,s,i,a,c,l,u=[-1]){const d=q;T(e);const f=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(f.root);let g=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),g&&lt(e,t)),n})):[],f.update(),g=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&et(e.$$.fragment),at(e,n.target,n.anchor,n.customElement),K()}T(d)}class dt{$destroy(){ct(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ft(t){const e=t-1;return e*e*e+1}function gt(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function ht(t,{delay:e=0,duration:n=400,easing:o=ft,axis:r="y"}={}){const s=getComputedStyle(t),i=+s.opacity,a="y"===r?"height":"width",c=parseFloat(s[a]),l="y"===r?["top","bottom"]:["left","right"],u=l.map((t=>`${t[0].toUpperCase()}${t.slice(1)}`)),d=parseFloat(s[`padding${u[0]}`]),f=parseFloat(s[`padding${u[1]}`]),g=parseFloat(s[`margin${u[0]}`]),h=parseFloat(s[`margin${u[1]}`]),p=parseFloat(s[`border${u[0]}Width`]),m=parseFloat(s[`border${u[1]}Width`]);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*i};${a}: ${t*c}px;padding-${l[0]}: ${t*d}px;padding-${l[1]}: ${t*f}px;margin-${l[0]}: ${t*g}px;margin-${l[1]}: ${t*h}px;border-${l[0]}-width: ${t*p}px;border-${l[1]}-width: ${t*m}px;`}}function pt(t){let e,n,o=t[0].categories.nodes[0].name.toUpperCase()+"";return{c(){e=v("h6"),n=k(o),_(e,"class","insight-identifier")},m(t,o){b(t,e,o),m(e,n)},p(t,e){1&e&&o!==(o=t[0].categories.nodes[0].name.toUpperCase()+"")&&E(n,o)},d(t){t&&w(e)}}}function mt(e){let n;return{c(){n=v("h6"),n.textContent="FAQ",_(n,"class","insight-identifier")},m(t,e){b(t,n,e)},p:t,d(t){t&&w(n)}}}function $t(t){let e,n,o;return{c(){e=v("img"),_(e,"class","insight-card-background-image"),c(e.src,n=t[0].featuredImage.node.sourceUrl)||_(e,"src",n),_(e,"alt",o=t[0].featuredImage.node.altText)},m(t,n){b(t,e,n)},p(t,r){1&r&&!c(e.src,n=t[0].featuredImage.node.sourceUrl)&&_(e,"src",n),1&r&&o!==(o=t[0].featuredImage.node.altText)&&_(e,"alt",o)},d(t){t&&w(e)}}}function yt(n){let o,i,a,c,l,u,f,g,h,$,y,x,N,k=n[0].title+"";function I(t,e){return"faq"===t[0].contentTypeName?mt:pt}let E=I(n),P=E(n),q=n[0]?.featuredImage?.node?.sourceUrl&&$t(n);return{c(){o=v("a"),i=v("div"),P.c(),a=C(),c=v("h3"),l=C(),u=v("div"),q&&q.c(),f=C(),g=v("div"),_(c,"class","insight-card-title"),_(i,"class","insight-card-text"),_(g,"class","insight-card-hover-gradient"),_(u,"class","insight-card-image-container"),_(o,"href",h=n[0].link?n[0].link:""),_(o,"class",$="insight-card mobile-show col-"+n[0].columnWidth)},m(t,e){b(t,o,e),m(o,i),P.m(i,null),m(i,a),m(i,c),c.innerHTML=k,m(o,l),m(o,u),q&&q.m(u,null),m(u,f),m(u,g),N=!0},p(t,[e]){E===(E=I(t))&&P?P.p(t,e):(P.d(1),P=E(t),P&&(P.c(),P.m(i,a))),(!N||1&e)&&k!==(k=t[0].title+"")&&(c.innerHTML=k),t[0]?.featuredImage?.node?.sourceUrl?q?q.p(t,e):(q=$t(t),q.c(),q.m(u,f)):q&&(q.d(1),q=null),(!N||1&e&&h!==(h=t[0].link?t[0].link:""))&&_(o,"href",h),(!N||1&e&&$!==($="insight-card mobile-show col-"+t[0].columnWidth))&&_(o,"class",$)},i(n){N||(B((()=>{N&&(x&&x.end(1),y=function(n,o,r){const i={direction:"in"};let a,c,l=o(n,r,i),u=!1,f=0;function g(){a&&L(n,a)}function h(){const{delay:o=0,duration:r=300,easing:s=e,tick:i=t,css:h}=l||ot;h&&(a=S(n,0,1,r,o,s,h,f++)),i(0,1);const m=d()+o,$=m+r;c&&c.abort(),u=!0,B((()=>X(n,!0,"start"))),c=p((t=>{if(u){if(t>=$)return i(1,0),X(n,!0,"end"),g(),u=!1;if(t>=m){const e=s((t-m)/r);i(e,1-e)}}return u}))}let m=!1;return{start(){m||(m=!0,L(n),s(l)?(l=l(i),J().then(h)):h())},invalidate(){m=!1},end(){u&&(g(),u=!1)}}}(o,gt,{duration:300}),y.start())})),N=!0)},o(n){y&&y.invalidate(),x=function(n,o,i){const a={direction:"out"};let c,l=o(n,i,a),u=!0;const f=V;function g(){const{delay:o=0,duration:s=300,easing:i=e,tick:a=t,css:g}=l||ot;g&&(c=S(n,1,0,s,o,i,g));const h=d()+o,m=h+s;B((()=>X(n,!1,"start"))),p((t=>{if(u){if(t>=m)return a(0,1),X(n,!1,"end"),--f.r||r(f.c),!1;if(t>=h){const e=i((t-h)/s);a(1-e,e)}}return u}))}return f.r+=1,s(l)?J().then((()=>{l=l(a),g()})):g(),{end(t){t&&l.tick&&l.tick(1,0),u&&(c&&L(n,c),u=!1)}}}(o,gt,{duration:200}),N=!1},d(t){t&&w(o),P.d(),q&&q.d(),t&&x&&x.end()}}}function bt(t,e,n){let{insight:o=[]}=e;return t.$$set=t=>{"insight"in t&&n(0,o=t.insight)},[o]}class wt extends dt{constructor(t){super(),ut(this,t,bt,yt,i,{insight:0})}}const xt=[];const vt=function(e,n=t){let o;const r=new Set;function s(t){if(i(e,t)&&(e=t,o)){const t=!xt.length;for(const t of r)t[1](),xt.push(t,e);if(t){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const c=[i,a];return r.add(c),1===r.size&&(o=n(s)||t),i(e),()=>{r.delete(c),0===r.size&&o&&(o(),o=null)}}}}(new Set);async function Nt(t,e){const n=await fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json","X-RapidAPI-Key":"<YOUR_RAPIDAPI_KEY>"},body:JSON.stringify({query:t,variables:e})});return await n.json()}const kt='\nquery initialInsightQuery($faqCategories: [String], $categories: [String], $relation: String = "OR", $after: String) {\n  contentNodes(\n    where: {contentTypes: [POST, FAQ], faqCategories: $faqCategories, categories: $categories, relation: $relation}\n    first: 48\n    after: $after \n  ) {\n    nodes {\n      ... on Post {\n        id\n        featuredImage {\n          node {\n            altText\n            sourceUrl(size: MEDIUM)\n          }\n        }\n        link\n        title\n        categories(where: {parent: 0}) {\n          nodes {\n            name\n          }\n        }\n      }\n      ... on Faq {\n        databaseId\n        title\n        contentTypeName\n        faqCategories(where: {parent: 0}) {\n          nodes {\n            name\n            id\n          }\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n}';function Ct(e){let n,o,r,s,i=e[0]?"Loading...":"Load More";return{c(){n=v("button"),o=k(i),_(n,"class","btn btn-black svelte-pgpjbr"),_(n,"aria-label","load more")},m(t,i){b(t,n,i),m(n,o),r||(s=I(n,"click",e[1]),r=!0)},p(t,[e]){1&e&&i!==(i=t[0]?"Loading...":"Load More")&&E(o,i)},i:t,o:t,d(t){t&&w(n),r=!1,s()}}}function It(t,e,n){let o;l(t,vt,(t=>n(5,o=t)));let r=!1,{allItems:s=[]}=e,{endCursor:i=""}=e,{hasNextPage:a=!1}=e;return t.$$set=t=>{"allItems"in t&&n(2,s=t.allItems),"endCursor"in t&&n(3,i=t.endCursor),"hasNextPage"in t&&n(4,a=t.hasNextPage)},[r,async function(){n(0,r=!0);let t=[],e=[];o.forEach((n=>{"category"===n.taxonomyName&&t.push(n.slug),"faq_categories"===n.taxonomyName&&e.push(n.slug)})),0===t.length&&(t=null),0===e.length&&(e=null);const c={faqCategories:e,categories:t,after:i};let l=await Nt(kt,c);n(2,s=[...s,...l.data.contentNodes.nodes]),n(3,i=l.data.contentNodes.pageInfo.endCursor),n(4,a=l.data.contentNodes.pageInfo.hasNextPage),n(0,r=!1)},s,i,a]}class _t extends dt{constructor(t){super(),ut(this,t,It,Ct,i,{allItems:2,endCursor:3,hasNextPage:4})}}function Et(t,e,n){const o=t.slice();return o[9]=e[n],o}function Pt(t,e,n){const o=t.slice();return o[12]=e[n],o}function qt(t){let e,n,o,r,s;return{c(){e=N("svg"),n=N("g"),o=N("g"),r=N("rect"),s=N("path"),_(r,"width","24"),_(r,"height","24"),_(r,"opacity","0"),_(s,"d","M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z"),_(o,"data-name","chevron-down"),_(n,"data-name","Layer 2"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24")},m(t,i){b(t,e,i),m(e,n),m(n,o),m(o,r),m(o,s)},d(t){t&&w(e)}}}function Ft(t){let e,n,o,r,s;return{c(){e=N("svg"),n=N("g"),o=N("g"),r=N("rect"),s=N("path"),_(r,"width","24"),_(r,"height","24"),_(r,"transform","rotate(180 12 12)"),_(r,"opacity","0"),_(s,"d","M16 14.5a1 1 0 0 1-.71-.29L12 10.9l-3.3 3.18a1 1 0 0 1-1.41 0 1 1 0 0 1 0-1.42l4-3.86a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.42 1 1 0 0 1-.69.28z"),_(o,"data-name","chevron-up"),_(n,"data-name","Layer 2"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 24 24")},m(t,i){b(t,e,i),m(e,n),m(n,o),m(o,r),m(o,s)},d(t){t&&w(e)}}}function St(t){let e,n,o,r=t[0],s=[];for(let e=0;e<r.length;e+=1)s[e]=Lt(Pt(t,r,e));return{c(){e=v("ul");for(let t=0;t<s.length;t+=1)s[t].c();_(e,"class","insight-archive-filter-dropdown")},m(t,n){b(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);o=!0},p(t,n){if(5&n){let o;for(r=t[0],o=0;o<r.length;o+=1){const i=Pt(t,r,o);s[o]?s[o].p(i,n):(s[o]=Lt(i),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},i(t){o||(B((()=>{o&&(n||(n=rt(e,ht,{duration:200},!0)),n.run(1))})),o=!0)},o(t){n||(n=rt(e,ht,{duration:200},!1)),n.run(0),o=!1},d(t){t&&w(e),x(s,t),t&&n&&n.end()}}}function Lt(t){let e,n,o,s,i,a,c,l,u,d=t[12].name+"";function f(){return t[7](t[12])}return{c(){e=v("li"),n=v("div"),o=v("div"),i=C(),a=k(d),c=C(),_(o,"class","toggle-circle"),_(n,"class",s="category-toggle "+(t[2].has(t[12])?"checked":"unchecked"))},m(r,s){b(r,e,s),m(e,n),m(n,o),m(e,i),m(e,a),m(e,c),l||(u=[I(e,"click",f),I(e,"keydown",t[4])],l=!0)},p(e,o){t=e,5&o&&s!==(s="category-toggle "+(t[2].has(t[12])?"checked":"unchecked"))&&_(n,"class",s),1&o&&d!==(d=t[12].name+"")&&E(a,d)},d(t){t&&w(e),l=!1,r(u)}}}function Tt(t){let e,n,o,s,i,a,c,l,u,d,f,g=t[9].name+"";function h(){return t[8](t[9])}return{c(){e=v("li"),n=k(g),o=C(),s=N("svg"),i=N("g"),a=N("g"),c=N("rect"),l=N("path"),u=C(),_(c,"width","24"),_(c,"height","24"),_(c,"transform","rotate(180 12 12)"),_(c,"opacity","0"),_(l,"d","M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"),_(a,"data-name","close"),_(i,"data-name","Layer 2"),_(s,"xmlns","http://www.w3.org/2000/svg"),_(s,"viewBox","0 0 24 24")},m(r,g){b(r,e,g),m(e,n),m(e,o),m(e,s),m(s,i),m(i,a),m(a,c),m(a,l),m(e,u),d||(f=[I(e,"keydown",t[3]),I(e,"click",h)],d=!0)},p(e,o){t=e,4&o&&g!==(g=t[9].name+"")&&E(n,g)},d(t){t&&w(e),d=!1,r(f)}}}function Mt(t){let e,n,o,s,i,a,c,l,u,d;function f(t,e){return t[1]?Ft:qt}let g=f(t),h=g(t),p=t[1]&&St(t),$=[...t[2]],y=[];for(let e=0;e<$.length;e+=1)y[e]=Tt(Et(t,$,e));return{c(){e=v("div"),n=v("div"),o=v("div"),s=k("Categories\n            "),h.c(),i=C(),p&&p.c(),a=C(),c=v("ul");for(let t=0;t<y.length;t+=1)y[t].c();_(o,"class","dropdown-toggle"),_(n,"class","insight-archive-filter-categories"),_(c,"class","insight-archive-rounded-buttons"),_(e,"class","insight-archive-filters")},m(r,f){b(r,e,f),m(e,n),m(n,o),m(o,s),h.m(o,null),m(n,i),p&&p.m(n,null),m(e,a),m(e,c);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(c,null);l=!0,u||(d=[I(o,"click",t[5]),I(o,"keydown",t[6])],u=!0)},p(t,[e]){if(g!==(g=f(t))&&(h.d(1),h=g(t),h&&(h.c(),h.m(o,null))),t[1]?p?(p.p(t,e),2&e&&et(p,1)):(p=St(t),p.c(),et(p,1),p.m(n,null)):p&&(Z(),nt(p,1,1,(()=>{p=null})),tt()),4&e){let n;for($=[...t[2]],n=0;n<$.length;n+=1){const o=Et(t,$,n);y[n]?y[n].p(o,e):(y[n]=Tt(o),y[n].c(),y[n].m(c,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=$.length}},i(t){l||(et(p),l=!0)},o(t){nt(p),l=!1},d(t){t&&w(e),h.d(),p&&p.d(),x(y,t),u=!1,r(d)}}}function At(t,e,n){let o;l(t,vt,(t=>n(2,o=t)));let{categories:r}=e,s=!1;return t.$$set=t=>{"categories"in t&&n(0,r=t.categories)},[r,s,o,function(e){M.call(this,t,e)},function(e){M.call(this,t,e)},()=>{n(1,s=!s)},()=>{n(1,s=!s)},t=>{o.has(t)?o.delete(t)&&vt.set(o):vt.set(o.add(t))},t=>{o.delete(t)&&vt.set(o)}]}class Ot extends dt{constructor(t){super(),ut(this,t,At,Mt,i,{categories:0})}}function Ut(t,e,n){const o=t.slice();return o[9]=e[n],o}function jt(t){let e,n,o;function r(e){t[5](e)}let s={categories:t[3]};return void 0!==t[0]&&(s.allItems=t[0]),e=new Ot({props:s}),O.push((()=>st(e,"allItems",r))),{c(){it(e.$$.fragment)},m(t,n){at(e,t,n),o=!0},p(t,o){const r={};8&o&&(r.categories=t[3]),!n&&1&o&&(n=!0,r.allItems=t[0],D((()=>n=!1))),e.$set(r)},i(t){o||(et(e.$$.fragment,t),o=!0)},o(t){nt(e.$$.fragment,t),o=!1},d(t){ct(e,t)}}}function zt(t){let e,n;return e=new wt({props:{insight:t[9]}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.insight=t[9]),e.$set(o)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function Rt(t){let e,n,o,r,s;function i(e){t[6](e)}function a(e){t[7](e)}function c(e){t[8](e)}let l={};return void 0!==t[0]&&(l.allItems=t[0]),void 0!==t[1]&&(l.hasNextPage=t[1]),void 0!==t[2]&&(l.endCursor=t[2]),e=new _t({props:l}),O.push((()=>st(e,"allItems",i))),O.push((()=>st(e,"hasNextPage",a))),O.push((()=>st(e,"endCursor",c))),{c(){it(e.$$.fragment)},m(t,n){at(e,t,n),s=!0},p(t,s){const i={};!n&&1&s&&(n=!0,i.allItems=t[0],D((()=>n=!1))),!o&&2&s&&(o=!0,i.hasNextPage=t[1],D((()=>o=!1))),!r&&4&s&&(r=!0,i.endCursor=t[2],D((()=>r=!1))),e.$set(i)},i(t){s||(et(e.$$.fragment,t),s=!0)},o(t){nt(e.$$.fragment,t),s=!1},d(t){ct(e,t)}}}function Bt(t){let e,n,o,r,s,i,a,c,l=t[4]&&jt(t),u=t[0],d=[];for(let e=0;e<u.length;e+=1)d[e]=zt(Ut(t,u,e));const f=t=>nt(d[t],1,1,(()=>{d[t]=null}));let g=t[1]&&Rt(t);return{c(){e=v("div"),l&&l.c(),n=C(),o=v("section"),r=v("div"),s=v("ul");for(let t=0;t<d.length;t+=1)d[t].c();i=C(),a=v("div"),g&&g.c(),_(e,"class","insight-archive-filters-container"),_(s,"class","insight-archive-grid"),_(r,"class","insight-archive-grid-container"),_(a,"class","pagination-container"),_(o,"class","insight-archive")},m(t,u){b(t,e,u),l&&l.m(e,null),b(t,n,u),b(t,o,u),m(o,r),m(r,s);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(s,null);m(o,i),m(o,a),g&&g.m(a,null),c=!0},p(t,[n]){if(t[4]?l?(l.p(t,n),16&n&&et(l,1)):(l=jt(t),l.c(),et(l,1),l.m(e,null)):l&&(Z(),nt(l,1,1,(()=>{l=null})),tt()),1&n){let e;for(u=t[0],e=0;e<u.length;e+=1){const o=Ut(t,u,e);d[e]?(d[e].p(o,n),et(d[e],1)):(d[e]=zt(o),d[e].c(),et(d[e],1),d[e].m(s,null))}for(Z(),e=u.length;e<d.length;e+=1)f(e);tt()}t[1]?g?(g.p(t,n),2&n&&et(g,1)):(g=Rt(t),g.c(),et(g,1),g.m(a,null)):g&&(Z(),nt(g,1,1,(()=>{g=null})),tt())},i(t){if(!c){et(l);for(let t=0;t<u.length;t+=1)et(d[t]);et(g),c=!0}},o(t){nt(l),d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)nt(d[t]);nt(g),c=!1},d(t){t&&w(e),l&&l.d(),t&&w(n),t&&w(o),x(d,t),g&&g.d()}}}function Dt(t,e,n){let{allItems:o=[]}=e,{hasNextPage:r=!1}=e,{endCursor:s=""}=e,{categories:i=[]}=e,{showFilters:a=!0}=e;return vt.subscribe((async t=>{let e=[],i=[];n(2,s=""),t.forEach((t=>{"category"===t.taxonomyName&&e.push(t.slug),"faq_categories"===t.taxonomyName&&i.push(t.slug)})),0===e.length&&(e=null),0===i.length&&(i=null);const a={faqCategories:i,categories:e,after:s};let c=await Nt(kt,a);console.log(c),n(0,o=[...c.data.contentNodes.nodes]),n(2,s=c.data.contentNodes.pageInfo.endCursor),n(1,r=c.data.contentNodes.pageInfo.hasNextPage)})),t.$$set=t=>{"allItems"in t&&n(0,o=t.allItems),"hasNextPage"in t&&n(1,r=t.hasNextPage),"endCursor"in t&&n(2,s=t.endCursor),"categories"in t&&n(3,i=t.categories),"showFilters"in t&&n(4,a=t.showFilters)},[o,r,s,i,a,function(t){o=t,n(0,o)},function(t){o=t,n(0,o)},function(t){r=t,n(1,r)},function(t){s=t,n(2,s)}]}return class extends dt{constructor(t){super(),ut(this,t,Dt,Bt,i,{allItems:0,hasNextPage:1,endCursor:2,categories:3,showFilters:4})}}}));
//# sourceMappingURL=insight-archive.js.map
